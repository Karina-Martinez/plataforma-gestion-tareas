{"ast":null,"code":"import _objectSpread from\"C:/Users/karin/Downloads/version_1/plataforma-gestion-tareas/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/karin/Downloads/version_1/plataforma-gestion-tareas/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/karin/Downloads/version_1/plataforma-gestion-tareas/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/karin/Downloads/version_1/plataforma-gestion-tareas/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/karin/Downloads/version_1/plataforma-gestion-tareas/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _taggedTemplateLiteral from\"C:/Users/karin/Downloads/version_1/plataforma-gestion-tareas/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{PureComponent}from\"react\";import TrelloList from\"./TrelloList\";import{connect}from\"react-redux\";import TrelloCreate from\"./TrelloCreate\";import{DragDropContext,Droppable}from\"react-beautiful-dnd\";import styled from\"styled-components\";import{sort,setActiveBoard}from\"../actions\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListsContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n\"])));// TODO: Fix performance issue\nvar TrelloBoard=/*#__PURE__*/function(_PureComponent){_inherits(TrelloBoard,_PureComponent);var _super=_createSuper(TrelloBoard);function TrelloBoard(){var _this;_classCallCheck(this,TrelloBoard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onDragEnd=function(result){var destination=result.destination,source=result.source,draggableId=result.draggableId,type=result.type;if(!destination){return;}_this.props.dispatch(sort(source.droppableId,destination.droppableId,source.index,destination.index,draggableId,type));};return _this;}_createClass(TrelloBoard,[{key:\"componentDidMount\",value:function componentDidMount(){// set active trello board here\nvar boardID=this.props.match.params.boardID;this.props.dispatch(setActiveBoard(boardID));}},{key:\"render\",value:function render(){var _this$props=this.props,lists=_this$props.lists,cards=_this$props.cards,match=_this$props.match,boards=_this$props.boards;var boardID=match.params.boardID;var board=boards[boardID];if(!board){return/*#__PURE__*/_jsx(\"p\",{children:\"Board not found\"});}var listOrder=board.lists;return/*#__PURE__*/_jsxs(DragDropContext,{onDragEnd:this.onDragEnd,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Back\"}),/*#__PURE__*/_jsx(\"h2\",{children:board.title}),/*#__PURE__*/_jsx(Droppable,{droppableId:\"all-lists\",direction:\"horizontal\",type:\"list\",children:function children(provided){return/*#__PURE__*/_jsxs(ListsContainer,_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,children:[listOrder.map(function(listID,index){var list=lists[listID];if(list){var listCards=list.cards.map(function(cardID){return cards[cardID];});return/*#__PURE__*/_jsx(TrelloList,{listID:list.id,title:list.title,cards:listCards,index:index},list.id);}}),provided.placeholder,/*#__PURE__*/_jsx(TrelloCreate,{list:true})]}));}})]});}}]);return TrelloBoard;}(PureComponent);var mapStateToProps=function mapStateToProps(state){return{lists:state.lists,cards:state.cards,boards:state.boards};};export default connect(mapStateToProps)(TrelloBoard);","map":{"version":3,"names":["React","PureComponent","TrelloList","connect","TrelloCreate","DragDropContext","Droppable","styled","sort","setActiveBoard","Link","jsx","_jsx","jsxs","_jsxs","ListsContainer","div","_templateObject","_taggedTemplateLiteral","TrelloBoard","_PureComponent","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","onDragEnd","result","destination","source","draggableId","type","props","dispatch","droppableId","index","_createClass","key","value","componentDidMount","boardID","match","params","render","_this$props","lists","cards","boards","board","children","listOrder","to","title","direction","provided","_objectSpread","droppableProps","ref","innerRef","map","listID","list","listCards","cardID","id","placeholder","mapStateToProps","state"],"sources":["C:/Users/karin/Downloads/version_1/plataforma-gestion-tareas/src/components/TrelloBoard.js"],"sourcesContent":["import React, { PureComponent } from \"react\";\r\nimport TrelloList from \"./TrelloList\";\r\nimport { connect } from \"react-redux\";\r\nimport TrelloCreate from \"./TrelloCreate\";\r\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport { sort, setActiveBoard } from \"../actions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ListsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\n// TODO: Fix performance issue\r\n\r\nclass TrelloBoard extends PureComponent {\r\n  componentDidMount() {\r\n    // set active trello board here\r\n    const { boardID } = this.props.match.params;\r\n\r\n    this.props.dispatch(setActiveBoard(boardID));\r\n  }\r\n\r\n  onDragEnd = result => {\r\n    const { destination, source, draggableId, type } = result;\r\n\r\n    if (!destination) {\r\n      return;\r\n    }\r\n\r\n    this.props.dispatch(\r\n      sort(\r\n        source.droppableId,\r\n        destination.droppableId,\r\n        source.index,\r\n        destination.index,\r\n        draggableId,\r\n        type\r\n      )\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { lists, cards, match, boards } = this.props;\r\n    const { boardID } = match.params;\r\n    const board = boards[boardID];\r\n    if (!board) {\r\n      return <p>Board not found</p>;\r\n    }\r\n    const listOrder = board.lists;\r\n\r\n    return (\r\n      <DragDropContext onDragEnd={this.onDragEnd}>\r\n        <Link to=\"/\">Go Back</Link>\r\n        <h2>{board.title}</h2>\r\n        <Droppable droppableId=\"all-lists\" direction=\"horizontal\" type=\"list\">\r\n          {provided => (\r\n            <ListsContainer\r\n              {...provided.droppableProps}\r\n              ref={provided.innerRef}\r\n            >\r\n              {listOrder.map((listID, index) => {\r\n                const list = lists[listID];\r\n                if (list) {\r\n                  const listCards = list.cards.map(cardID => cards[cardID]);\r\n\r\n                  return (\r\n                    <TrelloList\r\n                      listID={list.id}\r\n                      key={list.id}\r\n                      title={list.title}\r\n                      cards={listCards}\r\n                      index={index}\r\n                    />\r\n                  );\r\n                }\r\n              })}\r\n              {provided.placeholder}\r\n              <TrelloCreate list />\r\n            </ListsContainer>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  lists: state.lists,\r\n  cards: state.cards,\r\n  boards: state.boards\r\n});\r\n\r\nexport default connect(mapStateToProps)(TrelloBoard);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}